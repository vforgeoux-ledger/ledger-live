version: '2.4'

services:
  speculos:
    image: speculos:latest
    volumes:
      - ./lib/tmp:/speculos/apps
    env_file:
      - .env
    ports:
      - "${API_PORT}:${API_PORT}"
    build:
      context: /speculos
    command: --model nanox ./apps/app.elf --seed="${SEED}" --display headless --api-port ${API_PORT}
